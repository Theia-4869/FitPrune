


def calculate_flops(n=576, d=4096, m=11008, l=32, r=None):
    if r is None:
        return (8 * n * d**2 + 4 * n**2 * d + 6 * n * m *d) * l / 1e12
    
    if r == 0:
        delete_scheme = {0: 0, 1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0, 10: 0, 11: 0, 12: 0, 13: 0, 14: 0, 15: 0, 16: 0, 17: 0, 18: 0, 19: 0, 20: 0, 21: 0, 22: 0, 23: 0, 24: 0, 25: 0, 26: 0, 27: 0, 28: 0, 29: 0, 30: 0, 31: 0}
    elif r == 10:
        delete_scheme = {0: 0, 1: 0, 2: 1, 3: 2, 4: 1, 5: 0, 6: 1, 7: 4, 8: 5, 9: 5, 10: 11, 11: 4, 12: 2, 13: 2, 14: 0, 15: 0, 16: 1, 17: 1, 18: 2, 19: 4, 20: 2, 21: 10, 22: 1, 23: 1, 24: 1, 25: 2, 26: 1, 27: 1, 28: 0, 29: 1, 30: 0, 31: 0}
    elif r == 20:
        delete_scheme = {0: 0, 1: 0, 2: 3, 3: 3, 4: 1, 5: 1, 6: 4, 7: 16, 8: 14, 9: 15, 10: 24, 11: 4, 12: 2, 13: 3, 14: 2, 15: 0, 16: 6, 17: 0, 18: 5, 19: 13, 20: 4, 21: 19, 22: 2, 23: 1, 24: 1, 25: 1, 26: 1, 27: 1, 28: 2, 29: 1, 30: 0, 31: 0}
    elif r == 30:
        delete_scheme = {0: 0, 1: 0, 2: 7, 3: 6, 4: 4, 5: 5, 6: 16, 7: 40, 8: 24, 9: 21, 10: 24, 11: 4, 12: 2, 13: 3, 14: 4, 15: 0, 16: 16, 17: 0, 18: 11, 19: 26, 20: 6, 21: 32, 22: 3, 23: 1, 24: 0, 25: 1, 26: 2, 27: 2, 28: 4, 29: 0, 30: 0, 31: 0}
    elif r == 40:
        delete_scheme = {0: 0, 1: 1, 2: 21, 3: 13, 4: 14, 5: 11, 6: 41, 7: 53, 8: 29, 9: 15, 10: 14, 11: 5, 12: 1, 13: 4, 14: 5, 15: 1, 16: 26, 17: 1, 18: 13, 19: 28, 20: 6, 21: 27, 22: 2, 23: 1, 24: 0, 25: 0, 26: 1, 27: 1, 28: 2, 29: 0, 30: 0, 31: 0}
    elif r == 50:
        delete_scheme = {0: 3, 1: 7, 2: 49, 3: 24, 4: 29, 5: 17, 6: 59, 7: 41, 8: 26, 9: 8, 10: 10, 11: 6, 12: 2, 13: 5, 14: 7, 15: 2, 16: 30, 17: 3, 18: 13, 19: 27, 20: 5, 21: 23, 22: 2, 23: 1, 24: 0, 25: 0, 26: 1, 27: 1, 28: 2, 29: 0, 30: 0, 31: 0}
    elif r == 60:
        delete_scheme = {0: 14, 1: 33, 2: 89, 3: 36, 4: 36, 5: 20, 6: 55, 7: 21, 8: 18, 9: 4, 10: 7, 11: 5, 12: 2, 13: 5, 14: 7, 15: 4, 16: 26, 17: 5, 18: 11, 19: 24, 20: 4, 21: 18, 22: 2, 23: 1, 24: 0, 25: 0, 26: 1, 27: 0, 28: 1, 29: 0, 30: 0, 31: 0}
    elif r == 70:
        delete_scheme = {0: 48, 1: 79, 2: 118, 3: 41, 4: 33, 5: 17, 6: 36, 7: 9, 8: 9, 9: 2, 10: 3, 11: 2, 12: 1, 13: 3, 14: 4, 15: 8, 16: 18, 17: 7, 18: 8, 19: 20, 20: 4, 21: 13, 22: 2, 23: 1, 24: 0, 25: 0, 26: 1, 27: 0, 28: 1, 29: 0, 30: 0, 31: 0}
    elif r == 80:
        delete_scheme = {0: 128, 1: 127, 2: 118, 3: 35, 4: 26, 5: 8, 6: 13, 7: 3, 8: 2, 9: 1, 10: 0, 11: 0, 12: 0, 13: 2, 14: 1, 15: 8, 16: 7, 17: 8, 18: 5, 19: 11, 20: 2, 21: 6, 22: 1, 23: 1, 24: 0, 25: 0, 26: 0, 27: 1, 28: 0, 29: 0, 30: 0, 31: 0}
    elif r == 90:
        delete_scheme = {0: 262, 1: 153, 2: 80, 3: 19, 4: 13, 5: 1, 6: 2, 7: 0, 8: 0, 9: 0, 10: 0, 11: 0, 12: 0, 13: 0, 14: 0, 15: 1, 16: 1, 17: 2, 18: 1, 19: 2, 20: 0, 21: 1, 22: 0, 23: 0, 24: 0, 25: 0, 26: 0, 27: 1, 28: 0, 29: 0, 30: 0, 31: 0}
    elif r == 100:
        delete_scheme = {0: 576, 1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0, 10: 0, 11: 0, 12: 0, 13: 0, 14: 0, 15: 0, 16: 0, 17: 0, 18: 0, 19: 0, 20: 0, 21: 0, 22: 0, 23: 0, 24: 0, 25: 0, 26: 0, 27: 0, 28: 0, 29: 0, 30: 0, 31: 0}

    # if r == 50:
    #     delete_scheme = {0: 4, 1: 14, 2: 72, 3: 35, 4: 33, 5: 18, 6: 56, 7: 26, 8: 21, 9: 6, 10: 8, 11: 7, 12: 1, 13: 4, 14: 7, 15: 1, 16: 30, 17: 4, 18: 11, 19: 24, 20: 4, 21: 23, 22: 0, 23: 0, 24: 0, 25: 0, 26: 0, 27: 0, 28: 0, 29: 0, 30: 0, 31: 0}
    # elif r == 75:
    #     delete_scheme = {0: 92, 1: 120, 2: 122, 3: 37, 4: 26, 5: 12, 6: 17, 7: 3, 8: 3, 9: 1, 10: 0, 11: 0, 12: 0, 13: 2, 14: 1, 15: 9, 16: 11, 17: 7, 18: 6, 19: 16, 20: 4, 21: 10, 22: 2, 23: 1, 24: 0, 25: 0, 26: 0, 27: 0, 28: 0, 29: 0, 30: 0, 31: 0}
    # elif r == 80:
    #     delete_scheme = {0: 144, 1: 140, 2: 114, 3: 31, 4: 22, 5: 7, 6: 7, 7: 1, 8: 1, 9: 0, 10: 0, 11: 0, 12: 0, 13: 1, 14: 1, 15: 8, 16: 6, 17: 7, 18: 4, 19: 10, 20: 2, 21: 5, 22: 1, 23: 1, 24: 0, 25: 0, 26: 0, 27: 0, 28: 1, 29: 0, 30: 0, 31: 0}
    # elif r == 90:
    #     delete_scheme = {0: 304, 1: 147, 2: 64, 3: 15, 4: 9, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0, 10: 0, 11: 0, 12: 0, 13: 0, 14: 0, 15: 0, 16: 0, 17: 1, 18: 0, 19: 0, 20: 0, 21: 0, 22: 0, 23: 0, 24: 0, 25: 0, 26: 0, 27: 0, 28: 0, 29: 0, 30: 0, 31: 0}
    # elif r == 95:
    #     delete_scheme = {0: 407, 1: 112, 2: 33, 3: 7, 4: 2, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0, 10: 0, 11: 0, 12: 0, 13: 0, 14: 0, 15: 0, 16: 0, 17: 0, 18: 0, 19: 0, 20: 0, 21: 0, 22: 0, 23: 0, 24: 0, 25: 0, 26: 0, 27: 0, 28: 0, 29: 0, 30: 0, 31: 0}
    
    flops = 0
    for i in range(32):
        flops += (6 * n * d**2 + 4 * n**2 * d)
        n -= delete_scheme[i]
        flops += (2 * n * d**2 + 6 * n * m *d)
    return flops / 1e12


flops_ratio = calculate_flops(r=90) / calculate_flops()
print(100 - flops_ratio * 100)